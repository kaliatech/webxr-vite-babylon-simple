var b=Object.defineProperty;var M=(o,t,s)=>t in o?b(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var w=(o,t,s)=>(M(o,typeof t!="symbol"?t+"":t,s),s);import{E as x,S as z,C as h,A as D,a as I,V as g,H as E,M as L,b as _,W as R,d as S,r as V,c as W,o as A,e as X,f as p,g as u,u as l,h as C,w as B,v as N,i as k,t as O,p as P,j as T,k as F,l as j}from"./vendor.fe2c8e7e.js";const q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};q();class G{constructor(t){w(this,"canvas");this.canvas=t}async setup(){const t=new x(this.canvas,!0),s=new z(t),a=s.createDefaultEnvironment({skyboxSize:30,groundColor:new h(.5,.5,.5)});new D(s,1),new I("Camera",-(Math.PI/4)*3,Math.PI/4,10,new g(0,0,0),s).attachControl(!0);const n=new E("light1",new g(0,2,0),s);n.intensity=.7;const r=1,i=r/2,c=L.CreateSphere("xSphere",{segments:16,diameter:r},s);c.position.x=r+i,c.position.y=i,c.position.z=0;const m=new _("matR",s);m.diffuseColor=new h(1,0,0),c.material=m;const d=c.clone("ySphere",null);d.position.x=0,d.position.y=r+i,d.position.z=0;const v=new _("matB",s);v.diffuseColor=new h(0,1,0),d.material=v;const f=c.clone("zSphere");f.position.x=0,f.position.y=i,f.position.z=r+i;const y=new _("matG",s);return y.diffuseColor=new h(0,0,1),f.material=y,await R.CreateAsync(s,{floorMeshes:[a==null?void 0:a.ground],optionalFeatures:!0}),t.resize(),t.runRenderLoop(function(){s&&s.render()}),t}}var H=(o,t)=>{const s=o.__vccOpts||o;for(const[a,e]of t)s[a]=e;return s};const K=o=>(P("data-v-99158a72"),o=o(),T(),o),U={class:"container-outer"},$=K(()=>k("h1",null,"WebXR Test 001",-1)),J={key:0},Q={class:"container-render"},Y={key:0},Z={key:1},ee=S({setup(o){let t=null;const s=V(null);let a=null;const e=W({asyncChecksDone:!1,errorMsg:"",isWebXrSupported:!1,isImmersiveVrSupported:!1});A(()=>{if(e.isWebXrSupported="xr"in window.navigator,!e.isWebXrSupported){e.asyncChecksDone=!0;return}t=navigator.xr,t==null||t.isSessionSupported("immersive-vr").then(r=>{r&&(e.isImmersiveVrSupported=r,n())}).catch(r=>{e.errorMsg=r,console.error(r)}).finally(()=>{e.asyncChecksDone=!0})}),X(()=>{a&&window.removeEventListener("resize",a)});function n(){new G(s.value).setup().then(i=>{a=()=>{i&&i.resize()},window.addEventListener("resize",a)})}return(r,i)=>(p(),u("div",U,[$,l(e).asyncChecksDone?C("",!0):(p(),u("p",J," Checking WebXR support... ")),B(k("div",Q,[l(e).isImmersiveVrSupported?C("",!0):(p(),u("p",Y,"WebXR with immersive-vr sessions not supported by this browser.")),l(e).errorMsg?(p(),u("p",Z,"Error: "+O(l(e).errorMsg),1)):(p(),u("canvas",{key:2,ref_key:"renderCanvas",ref:s,class:"renderCanvas"},null,512))],512),[[N,l(e).asyncChecksDone]])]))}});var te=H(ee,[["__scopeId","data-v-99158a72"]]);const se=S({setup(o){return(t,s)=>(p(),F(te))}});j(se).mount("#app");
