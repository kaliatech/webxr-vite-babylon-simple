var b=Object.defineProperty;var M=(n,t,s)=>t in n?b(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var w=(n,t,s)=>(M(n,typeof t!="symbol"?t+"":t,s),s);import{E as x,S as z,a as I,C as h,A as D,b as E,V as g,H as L,M as R,c as _,W as V,d as S,r as W,e as A,o as X,f as B,g as p,h as l,u,i as C,w as N,v as O,j as k,t as P,p as T,k as F,l as H,m as j}from"./vendor.2c8bee9c.js";const q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}};q();class G{constructor(t){w(this,"canvas");this.canvas=t}async setup(){const t=new x(this.canvas,!0),s=new z(t),a=new I({skyboxSize:30,groundColor:new h(.5,.5,.5)},s);new D(s,1),new E("Camera",-(Math.PI/4)*3,Math.PI/4,10,new g(0,0,0),s).attachControl(!0);const o=new L("light1",new g(0,2,0),s);o.intensity=.7;const r=1,i=r/2,c=R.CreateSphere("xSphere",{segments:16,diameter:r},s);c.position.x=r+i,c.position.y=i,c.position.z=0;const m=new _("matR",s);m.diffuseColor=new h(1,0,0),c.material=m;const d=c.clone("ySphere",null);d.position.x=0,d.position.y=r+i,d.position.z=0;const v=new _("matB",s);v.diffuseColor=new h(0,1,0),d.material=v;const f=c.clone("zSphere");f.position.x=0,f.position.y=i,f.position.z=r+i;const y=new _("matG",s);return y.diffuseColor=new h(0,0,1),f.material=y,await V.CreateAsync(s,{floorMeshes:[a==null?void 0:a.ground],optionalFeatures:!0}),t.resize(),t.runRenderLoop(function(){s&&s.render()}),t}}var K=(n,t)=>{const s=n.__vccOpts||n;for(const[a,e]of t)s[a]=e;return s};const U=n=>(T("data-v-99158a72"),n=n(),F(),n),$={class:"container-outer"},J=U(()=>k("h1",null,"WebXR Test 001",-1)),Q={key:0},Y={class:"container-render"},Z={key:0},ee={key:1},te=S({setup(n){let t=null;const s=W(null);let a=null;const e=A({asyncChecksDone:!1,errorMsg:"",isWebXrSupported:!1,isImmersiveVrSupported:!1});X(()=>{if(e.isWebXrSupported="xr"in window.navigator,!e.isWebXrSupported){e.asyncChecksDone=!0;return}t=navigator.xr,t==null||t.isSessionSupported("immersive-vr").then(r=>{r&&(e.isImmersiveVrSupported=r,o())}).catch(r=>{e.errorMsg=r,console.error(r)}).finally(()=>{e.asyncChecksDone=!0})}),B(()=>{a&&window.removeEventListener("resize",a)});function o(){new G(s.value).setup().then(i=>{a=()=>{i&&i.resize()},window.addEventListener("resize",a)})}return(r,i)=>(p(),l("div",$,[J,u(e).asyncChecksDone?C("",!0):(p(),l("p",Q," Checking WebXR support... ")),N(k("div",Y,[u(e).isImmersiveVrSupported?C("",!0):(p(),l("p",Z,"WebXR with immersive-vr sessions not supported by this browser.")),u(e).errorMsg?(p(),l("p",ee,"Error: "+P(u(e).errorMsg),1)):(p(),l("canvas",{key:2,ref_key:"renderCanvas",ref:s,class:"renderCanvas"},null,512))],512),[[O,u(e).asyncChecksDone]])]))}});var se=K(te,[["__scopeId","data-v-99158a72"]]);const re=S({setup(n){return(t,s)=>(p(),H(se))}});j(re).mount("#app");
